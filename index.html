<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <canvas id="myCanvas" width="420px" height="420px" style="border: 2px solid black;"></canvas>

    <script>

        const c = document.getElementById("myCanvas");
        const ctx = c.getContext("2d");

        const table = ['','','','','','','','',''];

        let turn = 'X' ;

        function turnChange() {

            // console.log(turn);

            if (turn == 'X') {

                turn = 'O';

            }else {

                turn = 'X';

            }

        }

        function draw(x,y) {

            if(turn == 'O') {

                console.log('yes');

                ctx.beginPath();
                ctx.arc(x,y,50,0,2*Math.PI);
                ctx.stroke();

            }else {

                ctx.beginPath();
                ctx.moveTo(x-30,y-30);
                ctx.lineTo(x+30,y+30);

                ctx.moveTo(x+30,y-30);
                ctx.lineTo(x-30,y+30);

                ctx.stroke();

            }

        }

        function positionCheck(x,y) {

            // table[0]

            if( x >= 0 && x <= 140 && y >= 0 && y <= 140 && table[0] == ''){

                draw(70,70);
                table[0] = turn;
                turnChange();

            }

            //table[1]

            if( x >= 180 && x <= 280 && y >= 0 && y <= 140 && table[1] == ''){

                draw(210,70);
                table[1] = turn;
                turnChange();

            }

            //table[2]

            if( x >= 280 && x <= 400 && y >= 0 && y <= 140 && table[2] == ''){

                draw(350,70);
                table[2] = turn;
                turnChange();

            }

            //table[3]

            if( x >= 0 && x <= 140 && y >= 140 && y <= 280 && table[3] == ''){

                draw(70,210);
                table[3] = turn;
                turnChange();

            }
            
            //table[4]

            if( x >= 140 && x <= 280 && y >= 140 && y <= 280 && table[4] == ''){

                draw(210,210);
                table[4] = turn;
                turnChange();

            }
            //table[5]

            if( x >= 280 && x <= 420 && y >= 140 && y <= 280 && table[5] == ''){

                draw(350,210);
                table[5] = turn;
                turnChange();

            }
            //table[6]

            if( x >= 0 && x <= 140 && y >= 280 && y <= 420 && table[6] == ''){

                draw(70,350);
                table[6] = turn;
                turnChange();

            }

            //table[7]

            if( x >= 140 && x <= 280 && y >= 280 && y <= 420 && table[7] == ''){

                draw(210,350);
                table[7] = turn;
                turnChange();

            }

            //table[8]

            if( x >= 280 && x <= 420 && y >= 280 && y <= 420 && table[8] == ''){

                draw(350,350);
                table[8] = turn;
                turnChange();

            }

        }

        function setup() {

            ctx.beginPath();
            ctx.moveTo(140,0);
            ctx.lineTo(140,420);

            ctx.moveTo(280,0);
            ctx.lineTo(280,420);

            ctx.moveTo(0,140);
            ctx.lineTo(420,140);

            ctx.moveTo(0,280);
            ctx.lineTo(420,280);
            
            ctx.stroke();

        }

        setup();

        c.addEventListener("click", function(e) {

            let x = e.offsetX;
            let y = e.offsetY;

            console.log(x,y);

            positionCheck(x,y);

        });
        
        
    </script>
</body>
</html>